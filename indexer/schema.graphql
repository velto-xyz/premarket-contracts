type Market @entity {
  id: ID! # marketIndex
  engine: String! @index
  market: String!
  collateralToken: String!
  createdAt: Timestamp!
}

type Trade @entity {
  id: ID! # txHash-logIndex
  engine: String! @index
  user: String! @index
  positionId: BigInt! @index
  eventType: String! # "open" | "close" | "liquidate"
  price: BigInt!
  baseSize: BigInt!
  margin: BigInt!
  notional: BigInt!
  pnl: BigInt
  isLong: Boolean!
  timestamp: Timestamp! @index
}
